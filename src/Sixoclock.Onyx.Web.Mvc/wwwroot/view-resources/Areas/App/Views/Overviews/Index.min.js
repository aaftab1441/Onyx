(function(n){var t=abp.services.app.user;t.getTransactionsTotal({id:n("#Id").val()}).done(function(t){var i=new Date;t.length==0?n("#container").highcharts({chart:{zoomType:"xy"},credits:{enabled:!1},title:{text:"Transaction Totals"},xAxis:[{categories:[i.getDate(),i.addDays(1).getDate(),i.addDays(2).getDate(),i.addDays(3).getDate(),i.addDays(4).getDate(),i.addDays(5).getDate(),i.addDays(6).getDate()],crosshair:!0}],yAxis:[{labels:{format:"{value}",style:{color:Highcharts.getOptions().colors[1]}},title:{text:"Delivered Kwh",style:{color:Highcharts.getOptions().colors[1]}}},{title:{text:"Count",style:{color:Highcharts.getOptions().colors[0]}},labels:{format:"{value}",style:{color:Highcharts.getOptions().colors[0]}},opposite:!0}],tooltip:{shared:!0},legend:{layout:"vertical",align:"left",x:120,verticalAlign:"top",y:100,floating:!0,backgroundColor:Highcharts.theme&&Highcharts.theme.legendBackgroundColor||"#FFFFFF"},series:[{name:"Count",type:"column",yAxis:1,data:[0,0,0,0,0,0,0]},{name:"Delivered Kwh",type:"column",data:[0,0,0,0,0,0,0]}]}):n("#container").highcharts({chart:{zoomType:"xy"},credits:{enabled:!1},title:{text:"Transaction Totals"},xAxis:[{categories:t.map(n=>n.date),crosshair:!0}],yAxis:[{labels:{format:"{value}",style:{color:Highcharts.getOptions().colors[1]}},title:{text:"Delivered Kwh",style:{color:Highcharts.getOptions().colors[1]}}},{title:{text:"Count",style:{color:Highcharts.getOptions().colors[0]}},labels:{format:"{value}",style:{color:Highcharts.getOptions().colors[0]}},opposite:!0}],tooltip:{shared:!0},legend:{layout:"vertical",align:"left",x:120,verticalAlign:"top",y:100,floating:!0,backgroundColor:Highcharts.theme&&Highcharts.theme.legendBackgroundColor||"#FFFFFF"},series:[{name:"Count",type:"column",yAxis:1,data:t.map(n=>parseInt(n.transactionsCount))},{name:"Delivered Kwh",type:"column",data:t.map(n=>parseInt(n.kwhDelivered))}]})});t.getTransactionsOverview().done(function(t){n("#energyThisWeek").text(t.currentWeekEnergy==0||t.currentWeekEnergy==null?"...":t.currentWeekEnergy);n("#chargeTimeThisWeek").text(t.currentWeekChargetime==0||t.currentWeekChargetime==null?"...":t.currentWeekChargetime);n("#transactionsThisWeek").text(t.currentWeekTransactions==0||t.currentWeekTransactions==null?"...":t.currentWeekTransactions);n("#cO2SavedThisWeek").text(t.currentWeekCo2Saved==0||t.currentWeekCo2Saved==null?"...":t.currentWeekCo2Saved);n("#totalDeliveredEnergy").text(t.totalDeliveredEnergy==0||t.totalDeliveredEnergy==null?"...":t.totalDeliveredEnergy);n("#totalChargeTime").text(t.totalChargeTime==0||t.totalChargeTime==null?"...":t.totalChargeTime);n("#totalTransactions").text(t.totalTransactions==0||t.totalTransactions==null?"...":t.totalTransactions);n("#totalCO2Saved").text(t.totalCo2Saved==0||t.totalCo2Saved==null?"...":t.totalCo2Saved);n("#energyThisWeekChange").text(t.currentWeekEnergyChange==0||t.currentWeekEnergyChange==null?"0":t.currentWeekEnergyChange);n("#chargeTimeThisWeekChange").text(t.currentWeekChargetimeChange==0||t.currentWeekChargetimeChange==null?"0":t.currentWeekChargetimeChange);n("#transactionsThisWeekChange").text(t.currentWeekTransactionsChange==0||t.currentWeekTransactionsChange==null?"0":t.currentWeekTransactionsChange);n("#cO2SavedThisWeekChange").text(t.currentWeekCo2SavedChange==0||t.currentWeekCo2SavedChange==null?"0":t.currentWeekCo2SavedChange)});Date.prototype.addDays=function(n){var t=new Date(this.valueOf());return t.setDate(t.getDate()+n),t}})(jQuery);