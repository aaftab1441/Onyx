(function(){function t(t){t?n.jtable("reload"):n.jtable("load",{filter:$("#ChargepointsTableFilter").val(),name:$("#name").val(),comment:$("#comment").val()})}function o(n){abp.message.confirm("Are you sure you want to delete chargepoint?",function(r){r&&i.deleteChargepoint({id:n.id}).done(function(){t(!0);abp.notify.success(app.localize("SuccessfullyDeleted"))})})}var n=$("#ChargepointsTable"),i=abp.services.app.chargepoint,s=abp.services.app.chargePointModel,r=new app.ModalManager({viewUrl:abp.appPath+"App/Chargepoints/CreateOrEditChargepointModal",scriptUrl:abp.appPath+"view-resources/Areas/App/Views/Chargepoints/_CreateOrEditModal.js",modalClass:"CreateOrEditChargepointModal"}),u=new app.ModalManager({viewUrl:abp.appPath+"App/Chargepoints/ManageChargepointModal",scriptUrl:abp.appPath+"view-resources/Areas/App/Views/Chargepoints/_ManageChargepointModal.js",modalClass:"ManageChargepointModal"}),f=new app.ModalManager({viewUrl:abp.appPath+"App/Chargepoints/OverviewModal",scriptUrl:abp.appPath+"view-resources/Areas/App/Views/Chargepoints/_OverviewModal.js",modalClass:"OverViewModal"}),e=new app.ModalManager({viewUrl:abp.appPath+"App/Chargepoints/ManageOCPPModal",scriptUrl:abp.appPath+"view-resources/Areas/App/Views/Chargepoints/_ManageOCPPModal.js",modalClass:"ManageOCPPModal"});$("#CreateNewChargepointButton").click(function(n){n.preventDefault();r.open()});n.jtable({title:app.localize("Chargepoints"),paging:!0,sorting:!0,multiSorting:!0,actions:{listAction:{method:i.getChargepoint}},fields:{id:{key:!0,list:!1},actions:{title:app.localize("Actions"),width:"7%",sorting:!1,type:"record-actions",cssClass:"btn btn-xs btn-primary blue",text:'<i class="fa fa-cog"><\/i> '+app.localize("Actions")+' <span class="caret"><\/span>',items:[{text:app.localize("Edit Charge point"),action:function(n){r.open({id:n.record.id})}},{text:app.localize("Overview"),action:function(n){f.open({id:n.record.id})}},{text:app.localize("Manage OCPP"),action:function(n){e.open({id:n.record.id})}},{text:app.localize("Commands"),action:function(n){u.open({id:n.record.id})}},{text:app.localize("Delete"),action:function(n){o(n.record)}}]},installName:{title:app.localize("Installation"),width:"10%"},groupName:{title:app.localize("GroupName"),width:"7%"},vendorName:{title:app.localize("Vendor"),width:"7%"},modelName:{title:app.localize("ModelName"),width:"7%"},identity:{title:app.localize("Identity"),width:"7%"},connectors:{title:app.localize("Connectors"),width:"10%"},evsEsCount:{title:app.localize("EVSEs"),width:"5%"},place:{title:app.localize("Place"),width:"5%"},comment:{title:app.localize("Comment"),width:"10%"},mountTypeName:{title:app.localize("Mount"),width:"7%"},status:{title:app.localize("Status"),width:"10%"},created:{title:app.localize("CreationTime"),width:"7%",display:function(n){return moment(n.record.created).format("L")}}}});$("#ShowAdvancedFiltersSpan").click(function(){$("#ShowAdvancedFiltersSpan").hide();$("#HideAdvancedFiltersSpan").show();$("#AdvacedAuditFiltersArea").slideDown()});$("#HideAdvancedFiltersSpan").click(function(){$("#HideAdvancedFiltersSpan").hide();$("#ShowAdvancedFiltersSpan").show();$("#AdvacedAuditFiltersArea").slideUp()});$("#GetChargepointsButton, #RefreshChargepointsListButton").click(function(n){n.preventDefault();t()});t()})();