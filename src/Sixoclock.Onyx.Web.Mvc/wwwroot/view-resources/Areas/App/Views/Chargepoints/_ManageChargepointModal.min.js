function getManageChargepointData(){var n=abp.services.app.chargepoint;n.getChargepointByIdForManageChargepoint({id:$("#Id").val()}).done(function(n){$("#evseStatus").text("Availability : "+n.chargepoint.evsEs[0].evseStatus);$("#evseAvailability").text("Status : "+n.chargepoint.evsEs[0].availabilityType)}).fail(function(){clearInterval(refreshIntervalId)})}function searchUsers(){var n=abp.services.app.tag;n.getUserByIdToken($("#txtIdToken").val()).done(function(n){var t="<p> Name = "+n.name+" \n<\/p>";$("#UserInfo").html(t);$("#TagId").val(n.id)})}function startCharging(){var t=abp.services.app.chargepoint,n;if($("#AvailabilityType").val()!="Operative"){sweetAlert("EVSE not operative");return}if($("#EVSEStatus").val()!="Available"){sweetAlert("EVSE not Available");return}n={};n.chargepointId=$("#Id").val();n.idTag=$("#txtIdToken").val();n.evsE_id=$("#EVSEId").val();n.userId=$("#UserId").val();n.idTag=$("#txtIdToken").val();t.createRemoteStartTransaction(n).done(function(){sweetAlert("Start Charging Command is sent")})}function stopCharging(){var t=abp.services.app.chargepoint,n;if($("#AvailabilityType").val()!="Operative"){sweetAlert("EVSE not operative");return}if($("#EVSEStatus").val()!="Available"){sweetAlert("EVSE not Available");return}n={};remoteStartTransaction.chargepointId=$("#Id").val();remoteStartTransaction.idTag=$("#txtIdToken").val();remoteStartTransaction.evsE_id=$("#EVSEId").val();remoteStartTransaction.userId=$("#UserId").val();remoteStartTransaction.idTag=$("#txtIdToken").val();t.createRemoteStopTransaction(n).done(function(){sweetAlert("Stop Charging Command is sent")})}function CloseModel(){clearInterval(refreshIntervalId)}var refreshIntervalId=null;(function(n){app.modals.ManageChargepointModal=function(){var t,r=abp.services.app.chargepoint,u=abp.services.app.remoteStartStopEvent,i=null;this.init=function(n){t=n;i=t.getModal().find("form");i.validate()};n("#btnReset").click(function(){clearInterval(refreshIntervalId);var i={};i.chargepointId=n("#Id").val();i.resetTypeId=n("#ResetTypeId").val();i.resetType=n("#ResetTypeId option:selected").text();r.createResetStatusAndEvent(i).done(function(){sweetAlert("Reset Command is sent");refreshIntervalId=setInterval("getManageChargepointData()",5e3)}).always(function(){t.setBusy(!1)})});n("#EVSEId").change(function(){u.getRemoteStartStopEventsListByEVSE({id:n("#EVSEId").val()}).done(function(t){for(var r="",i=0;i<t.length;i++)r+="<tr class='jtable- data - row'><td>'"+t[i].messageEventResponse+"'<\/td ><td>'"+t[i].evsE_id+"'<\/td><td>'"+t[i].eventType+"'<\/td><td>'"+t[i].statusValue+"'<\/td><td>'"+t[i].created+"'<\/td><\/tr >";n("#remoteStartStopEventsTable").html(r)}).always(function(){t.setBusy(!1)})})}})(jQuery);