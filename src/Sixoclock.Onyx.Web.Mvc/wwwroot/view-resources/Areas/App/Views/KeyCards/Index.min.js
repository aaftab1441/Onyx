(function(){function t(){r.ajax.reload()}var i=$("#KeyCardsTable"),n=abp.services.app.tag,r=i.DataTable({paging:!0,serverSide:!0,processing:!0,listAction:{ajaxFunction:n.getKeyCards},columnDefs:[{targets:0,data:null,orderable:!1,autoWidth:!1,defaultContent:"",rowAction:{cssClass:"btn btn-xs btn-primary blue",text:'<i class="fa fa-cog"><\/i> '+app.localize("Actions")+' <span class="caret"><\/span>',items:[{text:app.localize("ActivateKey"),action:function(i){abp.message.confirm("Are you sure you want to activate tag?",function(r){r&&n.activateTag({id:i.record.id}).done(function(){t();abp.notify.success(app.localize("SuccessfullyActivated"))})})}},{text:app.localize("InactivateKey"),action:function(i){abp.message.confirm("Are you sure you want to inactivate tag?",function(r){r&&n.inActivateTag({id:i.record.id}).done(function(){t();abp.notify.success(app.localize("SuccessfullyInActivated"))})})}}]}},{targets:1,data:"idToken"},{targets:2,data:"authorizationStatus"},{targets:3,data:"kwhCharged"},{targets:4,data:"transactions"},{targets:5,data:"expiry",render:function(n){return moment(n).format("L")}},{targets:6,data:"lastUsed",render:function(n){return moment(n).format("L")}}]})})();