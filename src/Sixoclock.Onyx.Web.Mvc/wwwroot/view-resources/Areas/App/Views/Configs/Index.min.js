(function(){function t(t){t?n.jtable("reload"):n.jtable("load",{filter:$("#ConfigsTableFilter").val(),versionId:$("#versionId").val(),featureId:$("#featureId").val()})}var n=$("#ConfigsTable"),i=abp.services.app.config,u=abp.services.app.oCPPFeature,r=new app.ModalManager({viewUrl:abp.appPath+"App/Configs/CreateOrEditConfigModal",scriptUrl:abp.appPath+"view-resources/Areas/App/Views/Configs/_CreateOrEditModal.js",modalClass:"CreateOrEditConfigModal"});$("#CreateNewConfigButton").click(function(n){n.preventDefault();r.open()});n.jtable({title:app.localize("Configs"),paging:!0,sorting:!0,multiSorting:!0,actions:{listAction:{method:i.getConfig}},fields:{id:{key:!0,list:!1},actions:{title:app.localize("Actions"),width:"7%",sorting:!1,type:"record-actions",cssClass:"btn btn-xs btn-primary blue",text:'<i class="fa fa-cog"><\/i> '+app.localize("Actions")+' <span class="caret"><\/span>',items:[{text:app.localize("EditDefaultConfig"),action:function(n){r.open({id:n.record.id})}}]},versionName:{title:app.localize("OCPPVersion"),width:"10%"},featureName:{title:app.localize("Feature"),width:"10%"},key:{title:app.localize("ConfigKey"),width:"10%"},defaultValue:{title:app.localize("DefaultValue"),width:"10%"},comment:{title:app.localize("Comment"),width:"10%"},created:{title:app.localize("CreationTime"),width:"7%",display:function(n){return moment(n.record.created).format("L")}}}});$("#ShowAdvancedFiltersSpan").click(function(){$("#ShowAdvancedFiltersSpan").hide();$("#HideAdvancedFiltersSpan").show();$("#AdvacedAuditFiltersArea").slideDown()});$("#HideAdvancedFiltersSpan").click(function(){$("#HideAdvancedFiltersSpan").hide();$("#ShowAdvancedFiltersSpan").show();$("#AdvacedAuditFiltersArea").slideUp()});$("#GetConfigsButton, #RefreshConfigsListButton").click(function(n){n.preventDefault();t()});$("#versionId").change(function(){u.getOCPPFeaturesListByVersionId({id:$("#versionId").val()}).done(function(n){var t='<option value="0">'+app.localize("SelectFeature")+"<\/option>";$.each(n.ocppFeatures,function(){t+="<option value='"+this.id+"'>"+this.name+"<\/option>"});$("#featureId").html(t)})});t()})();